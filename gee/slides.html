
<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Google Earth Engine basics </title>
    <meta charset="utf-8" />
    <meta name="author" content="Rob Marty, Leonardo Viotti" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/panelset/panelset.css" rel="stylesheet" />
    <script src="libs/panelset/panelset.js"></script>
    <script src="libs/xaringanExtra-webcam/webcam.js"></script>
    <script id="xaringanExtra-webcam-options" type="application/json">{"width":"200","height":"200","margin":"1em"}</script>
    <script src="libs/clipboard/clipboard.min.js"></script>
    <link href="libs/xaringanExtra-clipboard/xaringanExtra-clipboard.css" rel="stylesheet" />
    <script src="libs/xaringanExtra-clipboard/xaringanExtra-clipboard.js"></script>
    <script>window.xaringanExtraClipboard(null, {"button":"Copy Code","success":"Copied!","error":"Press Ctrl+C to Copy"})</script>
    <script>window.xaringanExtraClipboard(null, {"button":"Copy Code","success":"<i class=\"fa fa-check\" style=\"color: #90BE6D\"><\/i>","error":"<i class=\"fa fa-times-circle\" style=\"color: #F94144\"><\/i>"})</script>
    <link href="libs/font-awesome/css/all.css" rel="stylesheet" />
    <link href="libs/font-awesome/css/v4-shims.css" rel="stylesheet" />
    <link rel="stylesheet" href="libs/remark-css/default.css" type="text/css" />
    <link rel="stylesheet" href="libs/remark-css/metropolis.css" type="text/css" />
    <link rel="stylesheet" href="libs/remark-css/metropolis-fonts.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Google Earth Engine basics
## ieConnect GIS Training
### Rob Marty, Leonardo Viotti
<!-- ### The World Bank | <a href="https://github.com/worldbank">WB Github</a> <br> April 2021 -->

---

&lt;style type="text/css"&gt;
@media print {
  .has-continuation {
    display: block !important;
  }
}

&lt;/style&gt;


# Table of contents

1. [Introduction to Google Earth Engine](#introduction)
2. [Initial setup](#setup)
3. [Remote sensing basics](#rs-basics)
4. [Code Editor and APIs](#code-editor)
5. [Loading data](#data)
6. [JavaScript and basic operations](#js)
7. [Data processing](#data-processing)
8. [Export data](#export)
9. [References and useful resources](#references)
9. [Appendix](#appendix)

---

class: inverse, center, middle
name: introduction

# Introduction to Google Earth Engine

---

# Introduction to Google Earth Engine

 - **What?** GIS platform to access, process and analyse RS data. Google giving us amazing stuff for free.
 - **Why?** Easy access to a lot of data plus free cloud resources.
 - **How?** It's the rest of the slides

---

class: inverse, center, middle
name: setup

# Initial setup

---

# Initial setup

Course requirements:

- Basic understanding of GIS concepts
- Basic programming knowledge

Setup:
 - Google account
 - Google Drive

---

class: inverse, center, middle
name: rs-basics

# Remote sensing basics


---

# GIS basics

There are two main types of spatial data: vector and raster data.

- <p style="border:2px; border-style:solid; border-color:#FFFFFF;">
  <b>Raster</b>: spatially-referenced grids where each cell has one value.</p>

- **Vectors**: spatial-referenced objects consisting of points, lines and polygons. These shapes are attached to an attributes table (a dataframe) , where each row corresponds to a different spatial element.

.pull-left[
&lt;img src="img/raster.PNG" width="400px" style="display: block; margin: auto;" /&gt;
]

.pull-right[
&lt;img src="img/shapefile.PNG" width="300px" style="display: block; margin: auto;" /&gt;
]

---

# GIS basics
<!-- Duplicated to add effect -->

There are two main types of spatial data: vector and raster data.

- <p style="border:2px; border-style:solid; border-color:#FF0000;">
  <b>Raster</b>: spatially-referenced grids where each cell has one value.</p>
- **Vectors**: spatial-referenced objects consisting of points, lines and polygons. These shapes are attached to an attributes table (a dataframe) , where each row corresponds to a different spatial element.

.pull-left[
&lt;img src="img/raster.PNG" width="400px" style="display: block; margin: auto;" /&gt;
]

.pull-right[
&lt;img src="img/shapefile.PNG" width="300px" style="display: block; margin: auto;" /&gt;
]

---
# GIS basics: Projections

<span style="color:red"> EXPLAIN PROJECTIONS BRIEFLY??</span>

---
# Remote sensing: Light

Light is electromagnetic radiation and we only see a small fraction of it.

<br><br>

&lt;img src="img/wavelenght-chartpng.png" width="900px" style="display: block; margin: auto;" /&gt;




---
# Remote sensing: Light and Bands

Staellites or remote sensing instruments can see much more!

.pull-left[
- Generally multiple light spectrums can be accessed in a single product in the form of multiple **raster bands**.

- You can thing of bands like columns in a dataset.

- In practice each band is a separate image.

]

.pull-right[
&lt;img src="img/landsat_bands.gif" width="900px" style="display: block; margin: auto;" /&gt;
]

---
# Remote sensing: Light

<span style="color:red"> NDVI example </span>

<!-- [RM] For light physics stuff, could include how NDVI is made, then just list
out a bunch of other indices that can be created (beyond course to go in depth
for other indices, but good to show NDVI because so popular then good to know
that others exist)
https://custom-scripts.sentinel-hub.com/ -->


---

# Remote sensing: Resolution

On top of we can have two more dimetions to raster data:

 - **Spatial resolution**: How large each pixel in the image is.
 &lt;img src="img/raster_multiple_resolutions.png" width="600px" alt="https://www.neonscience.org/resources/learning-hub/tutorials/raster-res-extent-pixels-r" style="display: block; margin: auto;" /&gt;

<br>
 - **Temporal resolution**: How often do we have images for a each location.
 &lt;img src="img/raster_temporal_resolutions.png" width="700px" alt="https://openeo.org/documentation/1.0/datacubes.html" style="display: block; margin: auto;" /&gt;

---
# Remonte sensing: Data processing levels

https://earthdata.nasa.gov/collaborate/open-data-services-and-software/data-information-policy/data-levels


---

# Remote sensing: Data examples

GEE has an extensive data catalog. Below we can find a couple of examples

 DAYTIME IMAGERY:

 | Source      | Resolution | Time Period | Capture imagery every... | N bands |
 | ----------- | ---------- | ----------- | ------------------------ | ------- |
 | Landsat     | 30m         | 1970s-     | 2 (ish) weeks             | 8ish?   |
 | Sentinel    | 10m         | 2015/7?-   | 2 (ish) weeks           | 8ish?   |
 | MODIS       | 500m         | 2000-     | Daily      | XX |
 
 See resolution vs. capture frequency trade off (MODIS vs landsat/sentinel)
 
 NIGHTTIME Imagery:
 
 | Source      | Resolution | Time Period | Capture imagery every... |
 | ----------- | ---------- | ----------- | ------------------------ |
 | DMSP-OLS    | 1km        | 1992-2013   | Annual             |
 | VIIRS       | 750m       | 2012-       | Monthly            |
 
 Or I think both capture daily, but annual / monthly is what GEE provides
 
---

class: inverse, center, middle
name: code-editor

# Code Editor and APIs

---

# Code Editor and APIs

There 3 different ways to use Google Earth Engine:
 - [JavaScript API](https://developers.google.com/earth-engine/tutorials/tutorial_api_01)
 - [R API](https://github.com/r-spatial/rgee)
 - [Python API](https://developers.google.com/earth-engine/guides/python_install)

We will focus on the JavaScript tool that provides a web based environment for the API.
 - Easier to set-up.
 - More resources available.
 - Several built-in tools that are particularly useful for beginners.

---
# Code Editor

<span style="color:red">CODE EDITOR IMAGE LIKE R TRAINING HERE</span>

---

class: inverse, center, middle
name: data-types
 
# Data types
 
---
 
# Data types
 
 - `ImageCollection`
 - `FeatureCollection`  
 
 
---

class: inverse, center, middle
name: data

# Loading data

---

# Loading data

 - Data catalog
 - Uploading your own data

---

class: inverse, center, middle
name: js

# JavaScript and basic operations

---

# JavaScript and basic operations

 - JS syntax
 - Defining variables and functions
 - Debugging (printing objects and metadata)

 - Syntax particularities (e.g. no named arguments?)

---
class: inverse, center, middle
name: data-processing

# Data processing

---

# Data processing
 
 - Filtering
 - Masking
 - Mapping
 - Reducing vs aggregation??
 - Aggregation:
  - Reducers and scale?
 - Clip
 

<!--
If time, could also show:
- Aggregation taking into account cloud cover (ie, avoiding areas with clouds when aggregating)
But at least should mention that often need to consider cloud cover when aggregating
- Raster math - maybe make NDVI out of landsat and add NDVI as a band? But may be too much.
Also NDVI is often precomputed within GEE.

But can see how long things end up being. Staying more basic and just showing
how to aggregate, clip and export imagery during this session would be super good.
-->

---

class: inverse, center, middle
name: js

# Export data

---

# Export data

 - Export GeoTIFF
 - Export CSVs

---
class: inverse, center, middle
name: references

# References and useful resources


<!--
# [RM]
We can think more about whether something like this would be useful (we briefly)
discussed when we met). But we can think about making some sort of collection
of useful scripts, and go over these at the end. Maybe worth us thinking about
what scripts would be most useful - but could do scripts for:
- Downloading monthly VIIRS
- Downloading annual VIIRS
- Downloading annual DMSP-OLS
- Downloading NDVI from landsat
- Downloading NDVI from MODIS
- Downloading weather data (precipitation / temperature)

So kinda the goal of this training will be to:
1. Teach people about GEE, so they can do basic stuff on their own
2. Advertise existing resources, so with this training people should at least
be comfortable using some pre-packaged scripts that we create

Here's a super unorganized collection of a bunch of scripts I've made, but we
can create a separate github repo or something, or thing about some way to
share some resouces: https://code.earthengine.google.com/?accept_repo=users/robmarty3/ieConnectGEE

Maybe one thing to think about is creating a set of functions for aggregating/clipping
VIIRS/DMSP/NDVI for a country, then seeing if there's a way to source these functions
into GEE from a github repo.
-->


---

# References and useful resources

 - [GEE Beginner's Cookbook](https://developers.google.com/earth-engine/tutorials/community/beginners-cookbook)
 - https://courses.spatialthoughts.com/end-to-end-gee.html
 - https://developers.google.com/earth-engine/guides/best_practices

---

class: inverse, center, middle
name: thank-you

# Thank you!

<!-- ---

class: inverse, center, middle
name: appendix

# Appendix -->


    </textarea>
    <script src="https://remarkjs.com/downloads/remark-latest.min.js">
    </script>
    <script>
      var slideshow = remark.create();
    </script>
  </body>
</html>
